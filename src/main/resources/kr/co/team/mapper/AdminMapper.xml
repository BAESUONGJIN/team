<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
 "http://mybatis.org/dtd/mybats-3-mapper.dtd">
 
<mapper namespace="kr.co.team.mapper.AdminMapper">
	
	<!-- gongjiaa -->
	<insert id="write_ok" parameterType="kr.co.team.vo.AdminVO">
		insert into gongji(title,content, writeday) 
		values(#{title},#{content},now())
	</insert>
	<select id="list" resultType="kr.co.team.vo.AdminVO">
		select * from gongji order by id desc limit #{param1}, 10
	</select>
	
	<select id="gongji_getChong" resultType="Integer">
		select ceil(count(*)/10) from gongji
	</select>
	
	<update id="readnum" parameterType="kr.co.team.vo.AdminVO">
		update gongji set readnum = readnum + 1 where id=#{param1}
	</update>
	
	<select id="content" resultType="kr.co.team.vo.AdminVO">
		select * from gongji where id=#{param1}
	</select>
	
	<update id="update_ok" parameterType="kr.co.team.vo.AdminVO">
		update gongji set title=#{title}, content=#{content} where id=#{id}
	</update>
	
	<delete id="delete">
		delete from gongji where id=#{param1}
	</delete>
	
	
	<!-- faq -->
	<insert id="faq_write_ok" parameterType="kr.co.team.vo.FaqVO">
		insert into faq(question,ask,gubun) values(#{question},#{ask},#{gubun})
	</insert>
	
	<select id="faq_list" resultType="kr.co.team.vo.FaqVO">
		select * from faq order by id desc limit #{param1}, 10
	</select>
	
	<select id="faq_getChong" resultType="Integer">
		select ceil(count(*)/10) from faq
	</select>
	
	<select id="faq_list_etc" resultType="kr.co.team.vo.FaqVO">
		select * from faq where gubun=#{param1} order by id desc limit #{param2}, 10
	</select>
	
	<select id="faq_etc_getChong" resultType="Integer">
		select ceil(count(*)/10) from faq where gubun=#{param1}
	</select>
	
	<delete id="faq_delete">
		delete from faq where id=#{param1}
	</delete>
	
	<select id="faq_update" resultType="kr.co.team.vo.FaqVO">
		select * from faq where id=#{param1}
	</select>
	
	<update id="faq_update_ok" parameterType="kr.co.team.vo.FaqVO">
		update faq set gubun=#{gubun}, question=#{question}, ask=#{ask} where id=#{id}
	</update>
	
	
	<!-- 회원정보 -->
	<select id="mem_list" resultType="kr.co.team.vo.MemberVO">
		select * from member order by userid asc limit #{param1}, 10
	</select>
	
	<!-- 총페이지 -->
	<select id="mem_getChong" resultType="Integer">
		select ceil(count(*)/10) from member
	</select>
	
	<select id="mem_content" resultType="kr.co.team.vo.MemberVO">
		select * from member where userid = #{param1}
	</select>
	
	<!-- 상품리스트 -->
	<select id="pro_list" resultType="kr.co.team.vo.ProductVO">
		select * from product order by id desc
	</select>
	
	<select id="pro_content" resultType="kr.co.team.vo.ProductVO">
		select * from product where id = #{param1}
	</select>
	
	<delete id="pro_delete">
		delete from product where id = #{param1}
	</delete>
	
	<select id="pro_cat" resultType="kr.co.team.vo.DaeVO">
		select * from dae order by dcode asc
	</select>
	
	<update id="pro_update" parameterType="kr.co.team.vo.ProductVO">
		update product set title=#{title}, size=#{size},
		color=#{color}, stock=#{stock}, price=#{price}, halin=#{halin},
		baesong=#{baesong} where id=#{id}
	</update>
</mapper>